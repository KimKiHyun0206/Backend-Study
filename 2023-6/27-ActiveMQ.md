# ActiveMQ
* JMS(Java Message Service)클라이언트와 함께 자바로 작성된 오픈 소스 메시지 브로커
* 하나 이상의 클라이언트나 서버로부터 통신을 조정시키는 엔터프라이즈 기능들을 제공
* 자바 및 기타 여러 언어 간 클라이언트 지원

# JMS
* 자바 기반의 MOM API 표준
* 둘 이상의 클라이언트 간의 메시지를 보낸다
* 자바 플랫폼, 엔터프라이즈 에디션 기반
* 메시지 생성, 송수진, 읽기를 한다
* ActiveMQ는 JMS 라이브러리를 사용한 자바 어플리케이션간 통신 가능
* 비동기, 신뢰성을 가지며 다른 분산 어플리케이션 컴포넌트 간의 통신을 허용


> > ### 핵심
> > Message, Broker, Destination
> * Message Broker : 목적지에 메시지를 건내주는 중개자
> * Destination : 목적지에 배달될 메시지 모델
>   * Queue : 메시지를 받기 위해 Consumer 간 경쟁한다. 연결된 순서대로 메시지 제공
>   * Topic : Pub/Sub 모델, 구독자 모두에게 메시지 제공

# JMS 메시지 구조
> 헤더, 등록 정보, 본문 (3 가지 부분으로 구성된다)

## 헤더
* JMS 메시지 필수 값
* 메시지 경로 지정 및 식별에 사용되는 값 포함
### 헤더 값 설정 방법
* 메시지 생성 또는 전달 프로세스 중 JMS 공급자에 의해 자동 생성
* 메세지 생산자를 작성할 때 지정된 설정을 통해 생성자 클라이언트에 의해 생성
* 메세지 단위의 메시지에서 생성자 클라이언트에 의해 생성된다

### 등록 정보
* 등록 정보 이름, 등록 정보 값의 쌍으로 지정
* 데이터를 작성한 프로세스에 대한 정보, 데이터가 작성된 시간, 데이터각 부분의 구조 포함 가능

### 본문 유형
|      유형       | 설명                                                          |
|:-------------:|:------------------------------------------------------------|
| StreamMessage | 본문이 Java 프리미티브 값의 스트림을 포함하는 메시지.<br/>이 메시지는 순차적으로 채워지고 읽혀진다 |
|  MapMessage   | 본문에 일련의 이름-값 쌍을 포함하는 메시지,<br/>항목 순서는 정의되지 않는다               |
|  TextMessage  | 본문에 Java 문자열을 포함하는 메시지,<br/>ex) XML 메시지                     |
| ObjectMessage | 본문에 일련화된 Java 객체를 포함하는 메시지                                  |
| BytesMessage  | 본문에 해석되지 않은 바이트의 스트림이 포함된 메시지                               |
#### JMS API 구현 순서
1. ConnectionFactory
2. Connection
3. Session
4. MessageProducer
5. send

---
* [ActiveMQ 와 JMS](https://n1tjrgns.tistory.com/277)



