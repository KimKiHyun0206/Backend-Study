# 들어가기 앞서서

OSI L4 스위치에 대한 내용을 복습하기 위해서 공부했던 내용을 다시 정리한다

<br>

# OSI L4 Switch

* OSI 4 계층의 프로토콜은 TCP 또는 UCP 이다
* 따라서 OSI L4 Switch 는 TCP 나 UDP 의 헤더를 보고 스위칭한다
* 로드 밸런싱이 가능하다

## OSI L4 Switch : 로드 밸런싱

### Round Robin

* L4 하단에 연결된 서버에 순차적으로 접속한다
* 하단의 서버 상태는 신경쓰지 않는다
* 때에 따라 각 서버 별로 가중치를 부여할 수 있다

### Least Connection

L4 하단에 현재 세션 수가 적은 서버에 접속한다

### Hash(Source IP)

* 한 번 연결되었던 서버는 계속 그 서버에 접속한다
* 어느 정도 접속 사용자가 늘어나면 거의 공평한 로드 밸런싱이 가능하게 된다
* 새로운 사용자가 들어오면 사용자 IP(+port) 기반으로 Key 값을 생성한다
* 이 외에 Response Time 기반, Bandwidth 기반이 존재한다

## OSI L4 Switch : 점검 항목

* L4 구성을 통한 백엔드 서버의 장애 대응 구성 여부
* 적절한 부하 분산 여부

<br>

# OSI L7 Switch

* 스위치 중 가장 좋다
* 패킷 내용을 많이 참조한다
    * HTTP 나 URL 같은 것을 이용하여 세밀한 로드 밸런싱을 한다

<br>

# 마치며

이전에 학습했던 내용을 복습하며 다시 떠올리니 기억에 더 잘 남는 것 같다. 다음에는 OSI 계층별 특징을 복습하며 스위치를 한 번 떠올려볼 것이다.
그리고 Round Robin 이라는 개념이 자주 등장하는 것 같다. 이는 컴퓨터 구조의 디스크 배열 방식에서도 나왔다. Round Robin 에 대해서도 공부해 보아야 할 것 같다.